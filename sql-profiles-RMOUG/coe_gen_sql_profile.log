SQL>SET SERVEROUT ON SIZE UNL;
SQL>REM
SQL>REM $Header: 215187.1 coe_gen_sql_profile.sql 11.4.4.4 2012/04/02 carlos.sierra $
SQL>REM
SQL>REM Copyright (c) 2000-2011, Oracle Corporation. All rights reserved.
SQL>REM
SQL>REM AUTHOR
SQL>REM   carlos.sierra@oracle.com
SQL>REM
SQL>REM SCRIPT
SQL>REM   coe_gen_sql_profile.sql
SQL>REM
SQL>REM DESCRIPTION
SQL>REM   Inputs one SQL_ID and outputs a set of scripts generated by
SQL>REM   coe_xfr_sql_profile.sql. One for each known plan of given
SQL>REM   SQL_ID.
SQL>REM
SQL>REM PRE-REQUISITES
SQL>REM   1. Oracle Tuning Pack license.
SQL>REM
SQL>REM PARAMETERS
SQL>REM   1. SQL_ID (required)
SQL>REM
SQL>REM EXECUTION
SQL>REM   1. Connect into SQL*Plus as user with access to data dictionary.
SQL>REM   2. Execute script coe_gen_sql_profile.sql passing SQL_ID
SQL>REM      (parameter can be passed inline or until requested).
SQL>REM
SQL>REM EXAMPLE
SQL>REM   # sqlplus system
SQL>REM   SQL> START coe_gen_sql_profile.sql [SQL_ID];
SQL>REM   SQL> START coe_gen_sql_profile.sql gnjy0mn4y9pbm;
SQL>REM   SQL> START coe_gen_sql_profile.sql;
SQL>REM
SQL>REM NOTES
SQL>REM   1. For possible errors see coe_gen_sql_profile.log
SQL>REM   2. Be aware that using DBMS_SQLTUNE requires a license for
SQL>REM      Oracle Tuning Pack.
SQL>REM
SQL>SET TERM ON ECHO OFF;

Parameter 1:
SQL_ID (required)



Plans from GV$SQL
~~~~~~~~~~~~~~~~~

PLAN_HASH_VALUE AVG_ET_SECS AVG_CPU_SECS AVG_IO_SECS AVG_BUFFER_GETS AVG_DISK_READS   AVG_ROWS EXECUTIONS
--------------- ----------- ------------ ----------- --------------- -------------- ---------- ----------
     2624099561        .015         .013           0              93              1        614          1


Plans from DBA_HIST_SQLSTAT
~~~~~~~~~~~~~~~~~~~~~~~~~~~


Plans from GV$SQL and/or DBA_HIST_SQLSTAT
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- phv:2624099561 avg_et_secs:.015
@@coe_xfr_sql_profile.sql g6y6gpnzww95b 2624099561;
